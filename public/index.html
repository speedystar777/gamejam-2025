<html>

<head>
  <!-- Load TensorFlow.js -->
  <script src="https://unpkg.com/@tensorflow/tfjs"></script>
  <!-- Load Posenet -->
  <script src="https://unpkg.com/@tensorflow-models/posenet"></script>

  <script src="https://cdn.jsdelivr.net/npm/phaser@3.60.0/dist/phaser-arcade-physics.min.js"></script>
</head>

<body>
  <video autoplay playsinline muted id="webcam" width="256" height="256" style="transform: scaleX(-1); 
  position: absolute; top: 0px; right: 0px; z-index: -1;"></video>
  <div id="debugPos" style="position: absolute; top: 0px; left: 0px;z-index: 3;background-color:#00ff00;
        width:8;height:8;"></div>
  <script src="./webcamSetup.js"> </script>
  <script src="./poseDetection.js"> </script>
  <script>
    class Example extends Phaser.Scene {
      preload() {

        this.load.image('sky', 'assets/orig_big.png');
        this.load.image('bubble', 'assets/bubble.svg');
      }

      create() {
        this.add.image(500, 200, 'sky');

        const bubble = this.physics.add.image(500, 700, 'bubble');

        bubble.setVelocity(-100, -100);

      }
    }

    const config = {
      type: Phaser.AUTO,
      width: window.innerWidth,
      height: window.innerHeight,
      scene: Example,
      physics: {
        default: 'arcade',
        arcade: {
          gravity: { y: -100 }
        }
      }
    };

    const game = new Phaser.Game(config);
  </script>

</body>

</html>